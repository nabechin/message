GET_ROOMS_QUERY = ("select "
                        "r.id, "
                        "case when r.is_group is true then r.name else u.name end as name, "
                        "r.latest_message "
                    "from "
                        "mysqldatabase.participants p1 "
                    "inner join "
                        "mysqldatabase.participants p2 "
                    "on "
                        "p1.room_id = p2.room_id "
                    "inner join "
                        "mysqldatabase.rooms r "
                    "on "
                        "p1.room_id = r.id "
                    "inner join "
                        "users u "
                    "on "
                        "p2.user_id = u.id "
                    "where "
                        "p1.user_id <> p2.user_id AND p1.user_id = :user_id "
                    "order by r.updated_at desc");


GET_FRIENDS_QUERY = ("select "
                     	  "u.id, u.name, p.room_id "
                     "from "
                     	  "mysqldatabase.friends f "
                     "inner join "
                     	  "mysqldatabase.users u "
                     "on "
                     	  "f.receiver_id = u.id "
                     "left outer join "
                          "(select "
                     	        "p1.room_id as room_id, p2.user_id as user_id "
                          "from "
                     	        "mysqldatabase.participants p1 "
                          "inner join "
                     	        "mysqldatabase.participants p2 "
                          "on "
                     	        "p1.room_id = p2.room_id "
                          "where "
                     	        "p1.user_id <> p2.user_id) p "
                     "on "
                     	  "p.user_id = f.receiver_id "
                     "where "
                     	  "f.requester_id = :user_id;")